<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Ordering Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- Basic Reset & Global Styles --- */
        :root {
            --primary-color: #3b82f6;
            --success-color: #22c55e;
            --danger-color: #ef4444;

            --bg-light: #f9fafb;
            --bg-dark: #111827;
            --card-bg-light: #ffffff;
            --card-bg-dark: #1f2937;
            --text-light-primary: #111827;
            --text-dark-primary: #ffffff;
            --text-light-secondary: #4b5563;
            --text-dark-secondary: #9ca3af;
            --border-light: #e5e7eb;
            --border-dark: #374151;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            background-color: var(--bg-light);
            color: var(--text-light-primary);
            transition: background-color 0.3s, color 0.3s;
        }
        
        /* --- Dark Mode Styles --- */
        body.dark {
            background-color: var(--bg-dark);
            color: var(--text-dark-primary);
        }

        /* --- Layout --- */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        .main-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 1024px) {
            .main-layout {
                grid-template-columns: repeat(3, 1fr);
            }
            .menu-section {
                grid-column: span 2;
            }
            .order-section {
                grid-column: span 1;
            }
        }
        
        .order-section {
             margin-top: 2rem;
        }
        @media (min-width: 1024px) {
            .order-section {
                margin-top: 0;
            }
        }

        /* --- Header --- */
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .header h1 {
            font-size: 2.25rem;
            font-weight: 800;
        }
        .header p {
            font-size: 1.25rem;
            color: var(--text-light-secondary);
            margin-top: 0.5rem;
        }
        body.dark .header p {
             color: var(--text-dark-secondary);
        }
        .header #table-number {
            font-weight: 700;
            color: var(--primary-color);
        }
       
        /* --- Section & Category Titles --- */
        .section-title {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-light);
        }
        body.dark .section-title {
            border-color: var(--border-dark);
        }

        .menu-category h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        /* --- Menu Grid & Cards --- */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        @media (min-width: 768px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .menu-item-card {
            background-color: var(--card-bg-light);
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            padding: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.2s ease-in-out;
        }
        .menu-item-card:hover {
            transform: scale(1.03);
        }
        body.dark .menu-item-card {
            background-color: var(--card-bg-dark);
        }
        .menu-item-card h4 {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0;
        }
        .menu-item-card .description {
            color: var(--text-light-secondary);
            margin-top: 0.25rem;
        }
        body.dark .menu-item-card .description {
            color: var(--text-dark-secondary);
        }
        .menu-item-card .details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .menu-item-card .price {
            font-size: 1.125rem;
            font-weight: 600;
        }

        /* --- Order Summary Card --- */
        .order-summary-card {
            position: sticky;
            top: 2rem;
            background-color: var(--card-bg-light);
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }
        body.dark .order-summary-card {
            background-color: var(--card-bg-dark);
        }
        .order-summary-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }
        .order-summary-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }
        .order-summary-header svg {
            width: 2rem;
            height: 2rem;
            color: var(--primary-color);
        }
        
        .order-items-list {
            max-height: 24rem; /* max-h-96 */
            overflow-y: auto;
            padding-right: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .order-item .item-name {
            font-weight: 600;
        }
        
        .order-item .item-price {
            font-size: 0.875rem;
            color: var(--text-light-secondary);
        }
        body.dark .order-item .item-price {
            color: var(--text-dark-secondary);
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .quantity-controls .quantity {
            width: 1.5rem;
            text-align: center;
            font-weight: 500;
        }

        .order-total-section {
            margin-top: 1.5rem;
            border-top: 1px solid var(--border-light);
            padding-top: 1rem;
        }
        body.dark .order-total-section {
            border-color: var(--border-dark);
        }
        .order-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.25rem;
            font-weight: 700;
        }
        
        .empty-cart-message, .order-placed-message {
            text-align: center;
            padding: 2.5rem 0;
        }
        .empty-cart-message p:first-child, .order-placed-message p:first-child {
            color: var(--text-light-secondary);
        }
        body.dark .empty-cart-message p:first-child {
             color: var(--text-dark-secondary);
        }
        .order-placed-message .thank-you {
             font-size: 1.5rem;
             font-weight: 700;
             color: var(--success-color);
        }

        /* --- Buttons --- */
        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            color: white;
            box-shadow: 0 1px 2px 0 rgba(0,0,0,0.05);
        }
        .btn-primary { background-color: var(--primary-color); }
        .btn-primary:hover { background-color: #2563eb; }
        
        .btn-success {
            background-color: var(--success-color);
            width: 100%;
            padding: 0.75rem;
            font-size: 1.125rem;
            margin-top: 1.5rem;
        }
        .btn-success:hover { background-color: #16a34a; }
        
        .btn-new-order {
            background-color: var(--primary-color);
            width: 100%;
            padding: 0.5rem 1.5rem;
            margin-top: 1.5rem;
        }
        .btn-new-order:hover { background-color: #2563eb; }
        
        .btn-icon {
            padding: 0.25rem;
            border-radius: 9999px;
            background-color: #e5e7eb;
        }
        body.dark .btn-icon { background-color: #374151; }
        .btn-icon:hover { background-color: #d1d5db; }
        body.dark .btn-icon:hover { background-color: #4b5563; }
        
        .btn-remove {
            margin-left: 0.5rem;
            padding: 0.25rem;
            color: var(--danger-color);
            background: none;
            border: none;
            cursor: pointer;
        }
        .btn-remove:hover { color: #dc2626; }
        
        /* --- Scrollbar --- */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        body.dark .custom-scrollbar::-webkit-scrollbar-track { background: #2d3748; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body>

    <div class="container">
        
        <header class="header">
            <h1></h1>
            <p>Your order for Table <span id="table-number">1</span></p>
        </header>

        <div class="main-layout">
            
            <div class="menu-section">
                <h2 class="section-title">Menu</h2>
                <div id="menu-container">
                    <!-- Menu items will be injected here by JavaScript -->
                </div>
            </div>

            <div class="order-section">
                <div class="order-summary-card">
                    <div class="order-summary-header">
                        <h2>Your Order</h2>
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                    </div>

                    <div id="order-content">
                        <!-- Order content will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuContainer = document.getElementById('menu-container');
            const orderContent = document.getElementById('order-content');
            const tableNumber = 5;

            // Simple dark mode check
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark');
            }
            
            let order = [];

            const menuData = [
              { category: "Appetizers", items: [{ id: 1, name: "Spring Rolls", description: "Crispy rolls with a vegetable filling.", price: 6.99 },{ id: 2, name: "Garlic Bread", description: "Toasted bread with garlic butter.", price: 4.50 },{ id: 3, name: "Bruschetta", description: "Grilled bread with tomatoes, garlic, and basil.", price: 7.50 },],},
              { category: "Main Courses", items: [{ id: 4, name: "Margherita Pizza", description: "Classic pizza with tomato, mozzarella, and basil.", price: 12.99 },{ id: 5, name: "Spaghetti Carbonara", description: "Pasta with eggs, cheese, pancetta, and pepper.", price: 14.00 },{ id: 6, name: "Grilled Chicken", description: "Served with roasted vegetables and a side of sauce.", price: 16.50 },{ id: 7, name: "Veggie Burger", description: "A delicious plant-based burger with fries.", price: 11.99 },],},
              { category: "Desserts", items: [{ id: 8, name: "Tiramisu", description: "A coffee-flavoured Italian dessert.", price: 8.00 },{ id: 9, name: "Cheesecake", description: "Creamy cheesecake with a berry coulis.", price: 7.50 },],},
              { category: "Drinks", items: [{ id: 10, name: "Cola", description: "Classic cola.", price: 2.50 },{ id: 11, name: "Fresh Orange Juice", description: "Freshly squeezed orange juice.", price: 4.00 },{ id: 12, name: "Mineral Water", description: "Still or sparkling water.", price: 2.00 },],},
            ];

            function renderMenu() {
                menuContainer.innerHTML = '';
                menuData.forEach(category => {
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'menu-category';
                    categoryDiv.innerHTML = `
                        <h3>${category.category}</h3>
                        <div class="menu-grid">
                            ${category.items.map(item => `
                                <div class="menu-item-card">
                                    <div>
                                        <h4>${item.name}</h4>
                                        <p class="description">${item.description}</p>
                                    </div>
                                    <div class="details">
                                        <span class="price">$${item.price.toFixed(2)}</span>
                                        <button data-item-id="${item.id}" class="add-to-order-btn btn btn-primary">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    menuContainer.appendChild(categoryDiv);
                });
            }

            function renderOrder() {
                if (order.length === 0) {
                    orderContent.innerHTML = `
                        <div class="empty-cart-message">
                            <p>Your cart is empty.</p>
                            <p style="font-size: 0.875rem; margin-top: 0.5rem;">Add items from the menu to get started.</p>
                        </div>
                    `;
                    return;
                }

                const total = order.reduce((acc, item) => acc + item.price * item.quantity, 0);

                orderContent.innerHTML = `
                    <div>
                        <div class="order-items-list custom-scrollbar">
                            ${order.map(item => `
                                <div class="order-item">
                                    <div>
                                        <p class="item-name">${item.name}</p>
                                        <p class="item-price">$${item.price.toFixed(2)}</p>
                                    </div>
                                    <div class="quantity-controls">
                                        <button data-item-id="${item.id}" data-amount="-1" class="update-quantity-btn btn-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                        </button>
                                        <span class="quantity">${item.quantity}</span>
                                        <button data-item-id="${item.id}" data-amount="1" class="update-quantity-btn btn-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                        </button>
                                        <button data-item-id="${item.id}" class="remove-item-btn btn-remove">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="order-total-section">
                            <div class="order-total">
                                <span>Total:</span>
                                <span>$${total.toFixed(2)}</span>
                            </div>
                            <button id="place-order-btn" class="btn btn-success">
                                Place Order
                            </button>
                        </div>
                    </div>
                `;
            }
            
            function renderOrderPlaced() {
                 orderContent.innerHTML = `
                    <div class="order-placed-message">
                        <p class="thank-you">Thank You!</p>
                        <p>Your order has been placed successfully.</p>
                        <button id="new-order-btn" class="btn btn-new-order">
                            New Order
                        </button>
                    </div>
                 `;
            }

            function handleAddToOrder(itemId) {
                const existingItem = order.find(item => item.id === itemId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    const itemToAdd = menuData.flatMap(c => c.items).find(item => item.id === itemId);
                    order.push({ ...itemToAdd, quantity: 1 });
                }
                renderOrder();
            }
            
            function handleUpdateQuantity(itemId, amount) {
                const itemIndex = order.findIndex(item => item.id === itemId);
                if (itemIndex > -1) {
                    order[itemIndex].quantity += amount;
                    if (order[itemIndex].quantity <= 0) {
                        order.splice(itemIndex, 1);
                    }
                }
                renderOrder();
            }
            
            function handleRemoveItem(itemId) {
                order = order.filter(item => item.id !== itemId);
                renderOrder();
            }
            
            function handlePlaceOrder() {
                if (order.length > 0) {
                    console.log("Order placed:", { tableNumber, order, total: order.reduce((acc, item) => acc + item.price * item.quantity, 0) });
                    renderOrderPlaced();
                }
            }
            
            function handleNewOrder() {
                order = [];
                renderOrder();
            }

            menuContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.add-to-order-btn');
                if (button) {
                    handleAddToOrder(parseInt(button.dataset.itemId, 10));
                }
            });

            orderContent.addEventListener('click', (e) => {
                const updateBtn = e.target.closest('.update-quantity-btn');
                const removeBtn = e.target.closest('.remove-item-btn');
                const placeOrderBtn = e.target.closest('#place-order-btn');
                const newOrderBtn = e.target.closest('#new-order-btn');

                if (updateBtn) {
                    handleUpdateQuantity(parseInt(updateBtn.dataset.itemId, 10), parseInt(updateBtn.dataset.amount, 10));
                } else if (removeBtn) {
                    handleRemoveItem(parseInt(removeBtn.dataset.itemId, 10));
                } else if (placeOrderBtn) {
                    handlePlaceOrder();
                } else if (newOrderBtn) {
                    handleNewOrder();
                }
            });

            renderMenu();
            renderOrder();
        });
    </script>
</body>
</html>

